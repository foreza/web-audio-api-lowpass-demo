<html>

<head>

  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <style>
    canvas {
      width: 1000px;
      height: 300px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Let's make low pass filters fun!</h1>
    <p>(Disclaimer: This is NOT my music, credits go to the lovely <a href="https://www.yvonneyuanmusic.com/">Yvonne Yuan</a></p>

    <div>
      <button class="btn grey waves-effect waves-light" onclick="initialize()">Initialize</button>
      <button class="btn green waves-effect waves-light" onclick="playAudio()">Play</button>
      <button class="btn red waves-effect waves-light" onclick="pauseAudio()">Pause</button>
    </div>

    <div>
      <p>Filter State: <span id="filter-state">Not active</span></p>
      <label for="low-pass-val">Low Pass Filter value: <span id="low-pass-display-val">2000</span></label>
      <input id="low-pass" name="low-pass-val" max="24000" min="0" value="200" step="100" type="range"/>
    </div>

    <div>
      <button class="btn blue waves-effect waves-light" onclick="applyFilterToAudio()">Apply Filter</button>
      <button class="btn red waves-effect waves-light" onclick="disconnectFilterFromAudio()">Remove Filter</button>
    </div>

    <p>Click play, then apply the filter to hear the difference.</p>
    <p>Values to try: 20000 (virtually no difference), 2000 (big difference), 200 (whoa)</p>

    <!-- visualization -->
    <canvas id="canvas">
    </canvas>
    <script>

      

      function initialize(){
        console.log("Initialize called")
        initializeAudio();      // audio.js
        initializeLPFilter();   // lowpassfilter.js
        initializeVisualizer(); // visualizer.js
      }

    

    </script>

  <script src="scripts/audio.js"></script>
  <script src="scripts/lowpassfilter.js"></script>
  <script src="scripts/visualizer.js"></script>


  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>


</body>
</div>

</html>